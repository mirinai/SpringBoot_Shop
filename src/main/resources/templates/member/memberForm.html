<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/layout1}">


    <th:block layout:fragment="css">
        <style>
            .fieldError {
                color: #bd2130;
            }
        </style>
    </th:block>

    <th:block layout:fragment="script">
        <!-- üìò 'script'ÎùºÎäî Ïù¥Î¶ÑÏùò ÌîÑÎûòÍ∑∏Î®ºÌä∏ Ï†ïÏùò
        - Ïù¥ Ïä§ÌÅ¨Î¶ΩÌä∏Îäî Thymeleaf Î†àÏù¥ÏïÑÏõÉ ÏãúÏä§ÌÖúÏóêÏÑú 'script' ÌîÑÎûòÍ∑∏Î®ºÌä∏Î°ú Ïù∏ÏãùÎê® -->
        <script th:inline="javascript">
            $(document).ready(function(){
                var errorMessage = [[${errorMessage}]];
                if(errorMessage != null){
                    alert(errorMessage);
                }
            });
        </script>
        <!--
         ÏÑúÎ≤ÑÏóêÏÑú Ï†ÑÎã¨Îêú errorMessage Î≥ÄÏàò Í∞ÄÏ†∏Ïò§Í∏∞
         üìò errorMessageÍ∞Ä nullÏù¥ ÏïÑÎãê Í≤ΩÏö∞, Í≤ΩÍ≥†Ï∞ΩÏúºÎ°ú Î©îÏãúÏßÄ ÌëúÏãú
         -->
    </th:block>


<!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† ÏòÅÏó≠ -->
<div layout:fragment="content" class="content">
    <!-- üìò Ïù¥ ÏòÅÏó≠ÏùÄ 'content'ÎùºÎäî Ïù¥Î¶ÑÏùò ÌîÑÎûòÍ∑∏Î®ºÌä∏Î°ú Ï†ïÏùòÎêú ÏΩòÌÖêÏ∏† -->
    <form action="/members/new" role="form" method="post"
          th:object="${memberFormDto}">
        <!-- üìò Ìèº ÏãúÏûë ÌÉúÍ∑∏
            - action="/member/new": Ìèº Îç∞Ïù¥ÌÑ∞Î•º "/member/new"Î°ú Ï†ÑÏÜ°
            - method="post": HTTP POST ÏöîÏ≤≠ Î∞©Ïãù ÏÇ¨Ïö©
            - th:object="${memberFormDto}": ÌèºÍ≥º Ïó∞Í≤∞Îêú Í∞ùÏ≤¥ (MemberFormDto) -->
        <div class="form-group">
            <!-- üìò Í∞úÎ≥Ñ ÏûÖÎ†• ÌïÑÎìúÎ•º Î¨∂Îäî ÌÅ¥ÎûòÏä§ (Î∂ÄÌä∏Ïä§Ìä∏Îû©Ïùò form-group ÌÅ¥ÎûòÏä§) -->
            <label th:for="name">Ïù¥Î¶Ñ</label>
            <!-- üìò th:for="name"ÏùÄ ÏûÖÎ†• ÌïÑÎìúÏôÄ Îß§Ïπ≠ÎêòÎäî ÎùºÎ≤®ÏùÑ ÏÑ§Ï†ïÌï®. 'name'ÏùÄ Í∞ùÏ≤¥Ïùò ÌïÑÎìúÎ™Ö -->
            <input type="text" th:field="*{name}" class="form-control" placeholder="Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏãúÏò§">
            <!-- üìò
                - type="text": ÌÖçÏä§Ìä∏ ÏûÖÎ†• ÌïÑÎìú
                - th:field="*{name}": MemberFormDto Í∞ùÏ≤¥Ïùò 'name' ÌïÑÎìúÏôÄ Î∞îÏù∏Îî©
                - class="form-control": Î∂ÄÌä∏Ïä§Ìä∏Îû© Ïä§ÌÉÄÏùº ÌÅ¥ÎûòÏä§
                - placeholder="Ïù¥Î¶ÑÏùÑ ÏûÖÎ†•ÌïòÏãúÏò§": ÏûÖÎ†• ÌïÑÎìúÏóê ÌëúÏãúÌï† ÏïàÎÇ¥ Î¨∏Íµ¨
            -->
            <p th:if="${#fields.hasErrors('name')}" th:errors="*{name}" class="fieldError">Incorrect data</p>
            <!-- üìò
                - th:if="{#filed.hasErrors('name')}": 'name' ÌïÑÎìúÏóê ÏóêÎü¨Í∞Ä ÏûàÏùÑ Í≤ΩÏö∞ÏóêÎßå ÌëúÏãú
                - th:errors="*{name}": 'name' ÌïÑÎìúÏùò ÏóêÎü¨ Î©îÏãúÏßÄÎ•º ÌëúÏãú
                - class="fieldError": ÏóêÎü¨ Î©îÏãúÏßÄÏóê Ïä§ÌÉÄÏùº Ï†ÅÏö© (CSS ÌÅ¥ÎûòÏä§)
                - ÌëúÏãú ÎÇ¥Ïö©: "Incorrect data"
            -->
        </div>

        <div class="form-group">
            <label th:for="email">Ïù¥Î©îÏùº Ï£ºÏÜå</label>
            <input type="email" th:field="*{email}" class="form-control" placeholder="Ïù¥Î©îÏùºÏùÑ ÏûÖÎ†•ÌïòÏãúÏò§">
            <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" class="fieldError">Incorrect data</p>

        </div>
        <div class="form-group">
            <label th:for="password">ÎπÑÎ∞ÄÎ≤àÌò∏</label>
            <input type="password" th:field="*{password}" class="form-control" placeholder="ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏãúÏò§">
            <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}" class="fieldError">Incorrect data</p>

        </div>
        <div class="form-group">
            <label th:for="address">Ï£ºÏÜå</label>
            <input type="text" th:field="*{address}" class="form-control" placeholder="Ï£ºÏÜåÎ•º ÏûÖÎ†•ÌïòÏãúÏò§">
            <p th:if="${#fields.hasErrors('address')}" th:errors="*{address}" class="fieldError">Incorrect data</p>

        </div>
        <div style="text-align: center">
            <button type="submit" class="btn btn-primary" style="">Submit</button>
        </div>
        <input type="hidden" th:name="${_csrf.parameterName}"
               th:value="${_csrf.token}" />
        <!--
        üìò CSRF(Cross-Site Request Forgery) Î∞©ÏßÄÎ•º ÏúÑÌïú Hidden Input ÌïÑÎìú
        - Spring SecurityÍ∞Ä ÌôúÏÑ±ÌôîÎêú ÏÉÅÌÉúÏóêÏÑúÎäî POST, PUT, DELETE Îì± Îç∞Ïù¥ÌÑ∞ Î≥ÄÍ≤Ω ÏöîÏ≤≠ Ïãú
          CSRF ÌÜ†ÌÅ∞Ïù¥ Î∞òÎìúÏãú Ìè¨Ìï®ÎêòÏñ¥Ïïº Ìï®.
        - th:name="${_csrf.parameterName}":
          - CSRF ÌÜ†ÌÅ∞Ïùò ÌååÎùºÎØ∏ÌÑ∞ Ïù¥Î¶ÑÏùÑ ÎèôÏ†ÅÏúºÎ°ú ÏÑ§Ï†ï. ÏùºÎ∞òÏ†ÅÏúºÎ°ú "_csrf".
        - th:value="${_csrf.token}":
          - CSRF ÌÜ†ÌÅ∞ Í∞íÏùÑ ÎèôÏ†ÅÏúºÎ°ú ÏÑ§Ï†ï. ÏÑúÎ≤ÑÍ∞Ä ÏÉùÏÑ±Ìïú CSRF ÌÜ†ÌÅ∞ Í∞í.
        - Ïù¥ ÌïÑÎìúÎ•º ÌÜµÌï¥ ÏÑúÎ≤ÑÍ∞Ä ÏöîÏ≤≠Ïùò Ï†ïÎãπÏÑ±ÏùÑ ÌôïÏù∏Ìï† Ïàò ÏûàÏùå.
        -->

    </form>
</div>

</html>